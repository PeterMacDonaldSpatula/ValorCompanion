package petermacdonald.valorgmcompanion.character.flaws;

import petermacdonald.valorgmcompanion.character.ValorCharacter;
import petermacdonald.valorgmcompanion.character.enums.FlawType;
import petermacdonald.valorgmcompanion.character.enums.LevelingSpeed;

/**
 * This class model the Energy Vulnerability flaw. +2/+1 for -4/-2 less resistance
 */

public class EnergyVulnerability extends Flaw {
    ValorCharacter character;

    public EnergyVulnerability(ValorCharacter character) {
        super("Energy Vulnerability", FlawType.FLAW,LevelingSpeed.FAST, 2, 1, false, false);
        this.character = character;
    }

    @Override
    public String getDescription() {
        return "-" + calculateResistanceLost() + " Resistance.";
    }

    @Override
    public void applyPassiveEffect() {
        character.setResistance(character.getResistance()-calculateResistanceLost(), this);
    }

    private int calculateResistanceLost() {
        return 2 + (2 * level);
    }
}
